<div class="dangerous-goods">
    <div class="dangerous-goods__breadcrumbs breadcrumbs">
        <a href="#" class="dangerous-goods__breadcrumb breadcrumbs__item">Пункт 1</a> /
        <a href="#" class="dangerous-goods__breadcrumb breadcrumbs__item">Пункт 2</a> /
        <span class="dangerous-goods__breadcrumb breadcrumbs__item breadcrumbs__item_current"> Пункт 3</span>
    </div>
    
    <h1 class="title dangerous-goods__title">Перевалка опасных грузов</h1>
    
    <div class="tabs dangerous-goods__tabs">
        <div data-tabs-open="import-permit" class="tab active">Разрешение на завоз</div>
        <div data-tabs-open="documents" class="tab">Документы</div>
        <div data-tabs-open="fastening-schemes" class="tab">Схемы крепления</div>
        <div class="tabs__floatr"></div>
    </div>
    
    <div data-tabs="import-permit">
        <h2 class="dangerous-goods__caption">Разрешение на завоз опасного груза</h2>

        <form id="permission-form">
            <div class="filters-subtitle">Контактные данные</div>
            <div class="filters-row">
                <input name="surname" class="input input_secondary" placeholder="Фамилия*" type="text" role="presentation" autocomplete="off">
                <input name="name" class="input input_secondary" placeholder="Имя*" type="text" role="presentation" autocomplete="off">
                <input name="patronymic" class="input input_secondary" placeholder="Отчество*" type="text" role="presentation" autocomplete="off">
                <input name="phone" data-mask="+{7} (000) 000-00-00" class="input input_secondary" placeholder="Контактный телефон*" type="text" role="presentation" autocomplete="off">
                <input name="email" class="input input_secondary" placeholder="Электронная почта*" type="text" role="presentation" autocomplete="off">
            </div>
            
            <div class="filters-subtitle">Грузы в контейнере</div>
            <div class="filters-row">
                <div class="dangerous-goods-ooh">
                    <input data-mask="number" name="ooh" type="text" class="input input_secondary" placeholder="Ввести номер ООН" role="presentation" autocomplete="off">
                    <div class="select select_string dangerous-goods-ooh__select" data-select-disable-close>
                        <input name="ooh" type="hidden" class="select__input">
                        <div class="select__wrapper dangerous-goods-ooh__items">
                            <div class="select__item btn btn_secondary" data-value="">Выберите группу упаковки</div>
                        </div>
                    </div>
                </div>
                
                <div class="select select_secondary">
                    <div class="select__value"></div>
                    <input name="group" type="hidden" class="select__input">
                    <div class="select__wrapper">
                        <div class="select__item btn btn_secondary" data-value="">Выберите группу упаковки</div>
                    </div>
                    <div class="select__daw">@@include('../components/svg/daw.html')</div>
                </div>
                <button class="btn btn_primary btn_w-100 btn_large" type="submit">Добавить</button>
            </div>
        </form>
        
        <div class="dangerous-goods__table" style="display: none">
            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>№</th>
                            <th>НОМЕР ООН</th>
                            <th>ГРУППА УПАКОВКИ</th>
                            <th>Название опасного вещества</th>
                        </tr>
                    </thead>
                    <tbody id="table-permission-body"></tbody>
                </table>
            </div>
            
            <button class="btn btn_primary dangerous-goods__table-btn" type="submit" onclick="requestPermission()">Запросить разрешение</button>
        </div>
        
        <div class="dangerous-goods__permissions" style="display: none">
            <div class="dangerous-goods-permission">
                <div class="dangerous-goods-permission__content">
                    <div class="dangerous-goods-permission__col">
                        <div class="subtitle">Название</div>
                        <h3 class="dangerous-goods-permission__title">Ксантогенаты xanthates</h3>
                        <div class="dangerous-goods-permission__description">Желтый гигроскопический порошок с неприятным запахом. при контакте с влагой выделяет такие жирные кислоты</div>
                        <div class="subtitle">Прием в порт</div>
                        <div class="dangerous-goods-permission__depiction">Желтый гигроскопический порошок с неприятным запахом. при контакте с влагой выделяет такие жирные кислоты</div>
                    </div>
                    <div class="dangerous-goods-permission__col">
                        <div class="subtitle">Номер ООН</div>
                        <div class="dangerous-goods-permission__value">3342</div>
                        
                        <div class="subtitle">Группа упаковки</div>
                        <div class="dangerous-goods-permission__value">I - вещества с высокой степенью опасности</div>
                        
                        <div class="subtitle">Класс или подкласс</div>
                        <div class="dangerous-goods-permission__value">4.2</div>
                        
                        <div class="dangerous-goods-permission__additional-wrapper">
                            <div class="dangerous-goods-permission__additional">
                                <div class="subtitle">Доп виды опасности</div>
                                Информация отсутствует
                            </div>
                            <div class="dangerous-goods-permission__additional">
                                <div class="subtitle">Запрещен прием по&nbsp;ЖД</div>
                                Информация отсутствует
                            </div>
                            <div class="dangerous-goods-permission__additional">
                                <div class="subtitle">Инструкции по&nbsp;цистернам</div>
                                ТЗ
                            </div>
                        </div>
                    </div>
                </div>
                <div class="dangerous-goods-permission__status dangerous-goods-permission__status_success">Согласован</div>
                <div class="dangerous-goods-permission__depiction">*Для дополнительного согласования необходимо обратиться к вашему экспедитору</div>
            </div>
<!--            -->
<!--            <div class="dangerous-goods-permission failure">-->
<!--                <div class="dangerous-goods-permission__content">-->
<!--                    <div class="dangerous-goods-permission__col">-->
<!--                        <div class="subtitle">Название</div>-->
<!--                        <h3 class="dangerous-goods-permission__title">Ксантогенаты xanthates</h3>-->
<!--                        <div class="dangerous-goods-permission__description">Желтый гигроскопический порошок с неприятным запахом. при контакте с влагой выделяет такие жирные кислоты</div>-->
<!--                        <div class="subtitle">Прием в порт</div>-->
<!--                        <div class="dangerous-goods-permission__depiction">Желтый гигроскопический порошок с неприятным запахом. при контакте с влагой выделяет такие жирные кислоты</div>-->
<!--                    </div>-->
<!--                    <div class="dangerous-goods-permission__col">-->
<!--                        <div class="subtitle">Номер ООН</div>-->
<!--                        <div class="dangerous-goods-permission__value">3342</div>-->
<!--                        -->
<!--                        <div class="subtitle">Группа упаковки</div>-->
<!--                        <div class="dangerous-goods-permission__value">I - вещества с высокой степенью опасности</div>-->
<!--                        -->
<!--                        <div class="subtitle">Класс или подкласс</div>-->
<!--                        <div class="dangerous-goods-permission__value">4.2</div>-->
<!--                        -->
<!--                        <div class="dangerous-goods-permission__additional-wrapper">-->
<!--                            <div class="dangerous-goods-permission__additional">-->
<!--                                <div class="subtitle">Доп виды опасности</div>-->
<!--                                Информация отсутствует-->
<!--                            </div>-->
<!--                            <div class="dangerous-goods-permission__additional">-->
<!--                                <div class="subtitle">Запрещен прием по&nbsp;ЖД</div>-->
<!--                                Информация отсутствует-->
<!--                            </div>-->
<!--                            <div class="dangerous-goods-permission__additional">-->
<!--                                <div class="subtitle">Инструкции по&nbsp;цистернам</div>-->
<!--                                ТЗ-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="dangerous-goods-permission__status dangerous-goods-permission__status_failure">Отклонен</div>-->
<!--            </div>-->
<!--            -->
<!--            <div class="dangerous-goods-permission">-->
<!--                <div class="dangerous-goods-permission__content">-->
<!--                    <div class="dangerous-goods-permission__col">-->
<!--                        <div class="subtitle">Название</div>-->
<!--                        <h3 class="dangerous-goods-permission__title">Ксантогенаты xanthates</h3>-->
<!--                        <div class="dangerous-goods-permission__description">Желтый гигроскопический порошок с неприятным запахом. при контакте с влагой выделяет такие жирные кислоты</div>-->
<!--                        <div class="subtitle">Прием в порт</div>-->
<!--                        <div class="dangerous-goods-permission__depiction">Желтый гигроскопический порошок с неприятным запахом. при контакте с влагой выделяет такие жирные кислоты</div>-->
<!--                    </div>-->
<!--                    <div class="dangerous-goods-permission__col">-->
<!--                        <div class="subtitle">Номер ООН</div>-->
<!--                        <div class="dangerous-goods-permission__value">3342</div>-->
<!--                        -->
<!--                        <div class="subtitle">Группа упаковки</div>-->
<!--                        <div class="dangerous-goods-permission__value">I - вещества с высокой степенью опасности</div>-->
<!--                        -->
<!--                        <div class="subtitle">Класс или подкласс</div>-->
<!--                        <div class="dangerous-goods-permission__value">4.2</div>-->
<!--                        -->
<!--                        <div class="dangerous-goods-permission__additional-wrapper">-->
<!--                            <div class="dangerous-goods-permission__additional">-->
<!--                                <div class="subtitle">Доп виды опасности</div>-->
<!--                                Информация отсутствует-->
<!--                            </div>-->
<!--                            <div class="dangerous-goods-permission__additional">-->
<!--                                <div class="subtitle">Запрещен прием по&nbsp;ЖД</div>-->
<!--                                Информация отсутствует-->
<!--                            </div>-->
<!--                            <div class="dangerous-goods-permission__additional">-->
<!--                                <div class="subtitle">Инструкции по&nbsp;цистернам</div>-->
<!--                                ТЗ-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="dangerous-goods-permission__status dangerous-goods-permission__status_expectation">Требуется согласование</div>-->
<!--                <div class="dangerous-goods-permission__depiction">*Для дополнительного согласования необходимо обратиться к вашему экспедитору</div>-->
<!--            </div>-->
        </div>
    </div>
    
    <div data-tabs="documents" class="file-list" style="display: none;">
        <a href="#" class="file-block file-list__file" target="_blank">
            <div class="file-block__file file-list__type">
                @@include('../components/svg/file.html')
                <div class="file-block__type">pdf</div>
            </div>

            <div class="file-block__content">
                <div class="file-block__title file-list__title">Заголовок (H4) Название документа. Размер может быть любой количество символ и строк не ограничено. Название документа. Размер может быть любой количество символ и строк не ограничено.</div>

                <div class="file-block__size">
                    32,5 kB
                    <div class="file-block__download">@@include('../components/svg/download.html')</div>
                </div>
            </div>
        </a>
        
        <a href="#" class="file-block file-list__file" target="_blank">
            <div class="file-block__file file-list__type">
                @@include('../components/svg/file.html')
                <div class="file-block__type">pdf</div>
            </div>

            <div class="file-block__content">
                <div class="file-block__title file-list__title">Заголовок (H4) Название документа. Размер может быть любой количество символ и строк не ограничено. Название документа. Размер может быть любой количество символ и строк не ограничено.</div>

                <div class="file-block__size">
                    32,5 kB
                    <div class="file-block__download">@@include('../components/svg/download.html')</div>
                </div>
            </div>
        </a>
        
        <a href="#" class="file-block file-list__file" target="_blank">
            <div class="file-block__file file-list__type">
                @@include('../components/svg/file.html')
                <div class="file-block__type">pdf</div>
            </div>

            <div class="file-block__content">
                <div class="file-block__title file-list__title">Заголовок (H4) Название документа. Размер может быть любой количество символ и строк не ограничено. </div>

                <div class="file-block__size">
                    32,5 kB
                    <div class="file-block__download">@@include('../components/svg/download.html')</div>
                </div>
            </div>
        </a>
        
        <a href="#" class="file-block file-list__file" target="_blank">
            <div class="file-block__file file-list__type">
                @@include('../components/svg/file.html')
                <div class="file-block__type">pdf</div>
            </div>

            <div class="file-block__content">
                <div class="file-block__title file-list__title">Заголовок (H4) Название документа. Размер может быть любой количество символ и строк не ограничено. Название документа. Размер может быть любой количество символ и строк не ограничено. Название документа. Размер может быть любой количество символ и строк не ограничено. Название документа. Размер может быть любой количество символ и строк не ограничено.</div>

                <div class="file-block__size">
                    32,5 kB
                    <div class="file-block__download">@@include('../components/svg/download.html')</div>
                </div>
            </div>
        </a>
        
        <a href="#" class="file-block file-list__file" target="_blank">
            <div class="file-block__file file-list__type">
                @@include('../components/svg/file.html')
                <div class="file-block__type">pdf</div>
            </div>

            <div class="file-block__content">
                <div class="file-block__title file-list__title">Заголовок (H4) Название документа. Размер может быть любой количество символ и строк не ограничено. Название документа. Размер может быть любой количество символ и строк не ограничено.</div>

                <div class="file-block__size">
                    32,5 kB
                    <div class="file-block__download">@@include('../components/svg/download.html')</div>
                </div>
            </div>
        </a>
    </div>
    
    <div class="accordion-wrapper" data-tabs="fastening-schemes" style="display: none;">
        <div class="accordion accordion_small">
            <div class="accordion__header">
                <h4 class="accordion__title">Заголовок (H4) Название группы документов. Размер может быть любой количество символ и строк не ограничено.</h4>

                <div class="accordion__btn">
                    @@include('../components/svg/daw-bold.html')
                </div>
            </div>
            
            <div class="accordion__container">
                <div class="accordion__wrapper">
                    ...
                </div>
            </div>
        </div>
        
        <div class="accordion accordion_small">
            <div class="accordion__header">
                <h4 class="accordion__title">Заголовок (H4) Название группы документов. Размер может быть любой количество символ и строк не ограничено.</h4>

                <div class="accordion__btn">
                    @@include('../components/svg/daw-bold.html')
                </div>
            </div>
            
            <div class="accordion__container">
                <div class="accordion__wrapper">
                    ...
                </div>
            </div>
        </div>
        
        <div class="accordion accordion_small">
            <div class="accordion__header">
                <h4 class="accordion__title">Заголовок (H4) Название группы документов. Размер может быть любой количество символ и строк не ограничено.</h4>

                <div class="accordion__btn">
                    @@include('../components/svg/daw-bold.html')
                </div>
            </div>

            <div class="accordion__container">
                <div class="accordion__wrapper">
                    ...
                </div>
            </div>
        </div>
    </div>
</div>

<script id="permission-card-template" type="text/template">
    <div class="dangerous-goods-permission__content">
        <div class="dangerous-goods-permission__col">
            <div class="subtitle">Название</div>
            <h3 class="dangerous-goods-permission__title">Ксантогенаты xanthates</h3>
            <div class="dangerous-goods-permission__description">Желтый гигроскопический порошок с неприятным запахом. при контакте с влагой выделяет такие жирные кислоты</div>
            <div class="subtitle">Прием в порт</div>
            <div class="dangerous-goods-permission__depiction">Желтый гигроскопический порошок с неприятным запахом. при контакте с влагой выделяет такие жирные кислоты</div>
        </div>
        <div class="dangerous-goods-permission__col">
            <div class="subtitle">Номер ООН</div>
            <div class="dangerous-goods-permission__value">3342</div>

            <div class="subtitle">Группа упаковки</div>
            <div class="dangerous-goods-permission__value">I - вещества с высокой степенью опасности</div>

            <div class="subtitle">Класс или подкласс</div>
            <div class="dangerous-goods-permission__value">4.2</div>

            <div class="dangerous-goods-permission__additional-wrapper">
                <div class="dangerous-goods-permission__additional">
                    <div class="subtitle">Доп виды опасности</div>
                    Информация отсутствует
                </div>
                <div class="dangerous-goods-permission__additional">
                    <div class="subtitle">Запрещен прием по&nbsp;ЖД</div>
                    Информация отсутствует
                </div>
                <div class="dangerous-goods-permission__additional">
                    <div class="subtitle">Инструкции по&nbsp;цистернам</div>
                    ТЗ
                </div>
            </div>
        </div>
    </div>
    <div class="dangerous-goods-permission__status dangerous-goods-permission__status_success">Согласован</div>
    <div class="dangerous-goods-permission__depiction">*Для дополнительного согласования необходимо обратиться к вашему экспедитору</div>
</script>

<script id="permission-row-template" type="text/template">
    <td>{{ pos }}</td>
    <td>{{ ooh }}</td>
    <td>{{ group }}</td>
    <td>
        {{ select }}
    </td>
    <td class="dangerous-goods__cross-wrapper"><div class="dangerous-goods__cross">@@include('../components/svg/cross.html')</div></td>
</script>

<script id="permission-row-select-template" type="text/template">
    <div class="select select_string" data-permission-card-select>
        <div class="select__value">Выберите название опасного вещества*</div>
        <input name="{{ select-id }}" type="hidden" class="select__input">
        <div class="select__wrapper">
            <div class="select__item btn btn_secondary permission-card-default-value" data-value="0">Выберите название опасного вещества*</div>
            {{ select-items }}
        </div>
        <div class="select__daw">@@include('../components/svg/daw.html')</div>
    </div>
</script>

<script data-skip-moving src="/js/dangerous.js" type="text/javascript"></script>

<script defer>
    document.addEventListener('DOMContentLoaded', function() {
        const dangerousGoodsKeys = Object.keys(dangerousGoods);
        const oohInput = document.querySelector('[name="ooh"]');
        const oohSelectWrapper = document.querySelector('.dangerous-goods-ooh__items');
        const oohSelect = selects['permission-form_ooh'];
        const groupSelect = selects['permission-form_group'];
        const dangerousGoodsOption = { value: '', text: dangerousGoodsGroups['default'] };
        const tablePermissionsHtml = document.querySelector('#table-permission-body');
        const tableWrapper = document.querySelector('.dangerous-goods__table');
        const permissionsRowTemplate = document.querySelector('#permission-row-template').innerHTML;
        const permissionsSelectTemplate = document.querySelector('#permission-row-select-template').innerHTML;
        const tablePermissions = [];
        let dirtyGroupSelect = false, dangerousGoodsSelected;
        
        function clearGroupSelect () {
            dirtyGroupSelect = false;
            groupSelect.setEnabled(false);
            groupSelect.updateItems([dangerousGoodsOption]);
        }
        
        function pushChangeOohSelect() {
            oohInput.dispatchEvent(new CustomEvent('changeOohSelect'));
        }

        oohInput.addEventListener('keyup', function () {
            const value = this.value;
            oohSelectWrapper.innerHTML = '';
            oohSelect.hide();
            
            if (dirtyGroupSelect) {
                clearGroupSelect();
            }
            
            if (value.length >= 3) {
                const newSelectItems = dangerousGoodsKeys
                    .filter(key => key.startsWith(value))
                    .map(key => ({ text: dangerousGoods[key].shippingName, value: key }));
                
                if (newSelectItems.length) {
                    oohSelect.updateItems(newSelectItems);
                    oohSelect.value = '';
                    pushChangeOohSelect();
                    oohSelect.show();
                }
            }
        });
        
        groupSelect.setEnabled(false);
        oohSelect.input.addEventListener('change', function () {
            dangerousGoodsSelected = dangerousGoods[this.value];
            const packingGroup = dangerousGoodsSelected.packingGroup || [];
            
            oohInput.value = this.value;
            groupSelect.updateItems([dangerousGoodsOption, ...packingGroup.map(value => ({ value, text: dangerousGoodsGroups[value] }))]);
            groupSelect.setEnabled(packingGroup.length);
            pushChangeOohSelect();
            dirtyGroupSelect = true;
        });

        function renderTablePermission() {
            let result = '';

            const hasOneElement = tablePermissions.length === 1;
            
            tablePermissions.forEach(({ permission, dangerousGoodsSelected: { checkByName, items } }, idx) => {
                const { ooh, group } = permission;
                const row = document.createElement('tr');
                const selectHtml = (items.length && (!hasOneElement || checkByName)) ? 
                    permissionsSelectTemplate
                        .replace('{{ select-id }}', `permission-card-select-${idx}`)
                        .replace('{{ select-items }}', items.map(({ dangerousSubstanceId, dangerousSubstanceName }) => `<div class="select__item btn btn_secondary" data-value="${dangerousSubstanceId}">${dangerousSubstanceName}</div>`).join('')) 
                    : ''

                row.innerHTML = permissionsRowTemplate
                    .replace('{{ pos }}', `${idx + 1}`)
                    .replace('{{ ooh }}', ooh)
                    .replace('{{ group }}', group? dangerousGoodsGroups[group] : window['dangerousGoodsGroupsNotSelected'])
                    .replace('{{ select }}', selectHtml);

                result += row.outerHTML;
            })

            tablePermissionsHtml.innerHTML = result;
            
            initSelects(tableWrapper);
            tableWrapper.style.display = '';
            
            updatePosPermissionSelect();
        }

        const form = document.querySelector('#permission-form');
        let isEnableShowErrors = true;
        form.addEventListener('submit', event => {
            event.preventDefault();
            isEnableShowErrors = true;

            const permission = formValidate(form, {
                // surname: {
                //     type: 'input',
                //     validate: 'abs|required'
                // },
                // name: {
                //     type: 'input',
                //     validate: 'abs|required'
                // },
                // patronymic: {
                //     type: 'input',
                //     validate: 'abs|required'
                // },
                // phone: {
                //     type: 'input',
                //     validate: 'length:18'
                // },
                // email: {
                //     type: 'input',
                //     validate: 'email'
                // },
                ooh: {
                    type: 'input',
                    events: ['changeOohSelect'],
                    validate: () => !oohSelect.value && isEnableShowErrors
                },
                group: {
                    type: 'select',
                    validate: value => groupSelect.isEnable && !value
                }
            }, false);

            // if (!groupSelect.isEnable) {
            //     groupSelect.select.classList.remove('error')
            // }
            
            if (permission) {
                clearGroupSelect();
                oohInput.value = '';
                oohSelect.value = '';
                masks[1].iMask.updateValue();
                isEnableShowErrors = false;
                console.log(permission)
                // addTablePermission(permission)
            }
        });

        function updatePosPermissionCardSelect() {
            $('[data-permission-card-select]').each((_, el) => {
                const target = $(el);
                const { top, left } = target.offset();
                const wrapper = target.find('.select__wrapper');

                wrapper.css({
                    position: 'fixed',
                    top: `${top - $(window).scrollTop() + 30}px`,
                    left: `${left - 1}px`
                })
            });
        }

        document.querySelector('.table-wrapper')?.addEventListener('scroll', updatePosPermissionCardSelect);
        window.addEventListener('scroll', updatePosPermissionCardSelect);
        window.addEventListener('resize', updatePosPermissionCardSelect);
    })
    
    
    
    
    
    
    
    
    
    // 
    // const tableWrapper = document.querySelector('.dangerous-goods__table');
    // const tablePermissionsHtml = document.querySelector('#table-permission-body');
    // const permissionsHtml = document.querySelector('.dangerous-goods__permissions');
    // const permissionsTemplate = document.querySelector('#permission-template').innerHTML;
    // const permissionsCardTemplate = document.querySelector('#permission-card-template').innerHTML;
    // const tablePermissions = [];
    // const permissions = [];
    //
    // function initTablePermissions() {
    //     const idxCells = [...tablePermissionsHtml.querySelectorAll('[data-idx]')];
    //    
    //     if (!idxCells.length) {
    //         tableWrapper.style.display = 'none';
    //     }
    //     else {
    //         idxCells.forEach((cell, idx) => cell.innerHTML = idx + 1);
    //        
    //         tableWrapper.style.display = '';
    //     }
    // }
    //
    

    

    
    //
    // tablePermissionsHtml.addEventListener('click', ({ target }) => {
    //     const row = target.closest('.dangerous-goods__cross-wrapper');
    //    
    //     if (row) {
    //         const parent = row.parentNode;
    //         parent.remove();
    //         tablePermissions.splice(+parent.querySelector('[data-idx]').innerHTML - 1, 1);
    //        
    //         initTablePermissions();
    //     }
    // });
    //
    // function requestPermission() {
    //     const permissionsCardDefaultValue = document.querySelector('.permission-card-default-value')?.getAttribute('data-value');
    //     permissions.length = 0;
    //     permissions.push(...tablePermissions);
    //    
    //     let isValid = true;
    //     $('[name ^= "permission-card-select-"]').each((_, el) => {
    //         if (el) {
    //             const name = el.getAttribute('name');
    //             const isNotValid = selects[name].value === permissionsCardDefaultValue;
    //            
    //             el.parentNode.style.color = isNotValid? '#DE2525' : '';
    //            
    //             if (isNotValid) {
    //                 isValid = false;
    //             }
    //         }
    //     })
    //    
    //     if (tablePermissions.length && isValid) {
    //         permissionsHtml.innerHTML = permissionsHtml.style.display = '';
    //
    //         tablePermissions.forEach(() => {
    //             const newPermission = document.createElement('div');
    //             newPermission.innerHTML = permissionsTemplate;
    //             newPermission.classList.add('dangerous-goods-permission');
    //            
    //             permissionsHtml.append(newPermission);
    //         });
    //     }
    //     else {
    //         permissionsHtml.style.display = 'none';
    //     }
    // }
</script>